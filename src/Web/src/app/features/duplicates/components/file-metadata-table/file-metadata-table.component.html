@if (file()) {
  <mat-card class="metadata-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>info</mat-icon>
        File Details
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <table mat-table [dataSource]="getMetadataRows()">
        <!-- Icon Column -->
        <ng-container matColumnDef="icon">
          <td mat-cell *matCellDef="let row">
            <mat-icon>{{ row.icon }}</mat-icon>
          </td>
        </ng-container>

        <!-- Label Column -->
        <ng-container matColumnDef="label">
          <td mat-cell *matCellDef="let row">{{ row.label }}</td>
        </ng-container>

        <!-- Value Column -->
        <ng-container matColumnDef="value">
          <td mat-cell *matCellDef="let row" class="value-cell">{{ row.value }}</td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <td mat-cell *matCellDef="let row" class="actions-cell">
            @if (row.copyable) {
              <button
                mat-icon-button
                class="copy-button"
                (click)="copyToClipboard(row.value, row.label)"
                [matTooltip]="copiedField() === row.label ? 'Copied!' : 'Copy to clipboard'"
              >
                <mat-icon>{{ copiedField() === row.label ? 'check' : 'content_copy' }}</mat-icon>
              </button>
            }
          </td>
        </ng-container>

        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </mat-card-content>
  </mat-card>
}
